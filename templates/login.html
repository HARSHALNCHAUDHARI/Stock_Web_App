<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TradeNest - Login</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23ffdb4d'/><path d='M20 70 L40 50 L60 70 L80 40' stroke='%23000000' stroke-width='5' fill='none'/></svg>">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
  }

  body {
      position: relative;
      background: url('https://images.unsplash.com/photo-1569025690938-a00729c9e1f9?auto=format&fit=crop&w=1600&q=80') no-repeat center center fixed;
      background-size: cover;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      min-height: 100vh;
  }

  .hero-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      z-index: 0;
  }

  .hero-section {
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      width: 100%;
      z-index: 2;
  }

  .hero-section h1 {
    font-size: 24px;
    margin-left: 20px;
}

  .nav-links {
      margin-right: 20px;
  }

  .nav-links a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-size: 18px;
      transition: 0.3s;
  }

  .nav-links a:hover {
      color: #ffcc00;
  }

    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 80vh;
        position: relative;
        z-index: 3; /* Added */
      }
      
      /* From Uiverse.io by JohnnyCSilva */ 
.form {
  margin-top: -30px;
  margin-bottom: 90px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  background-color: #ffffff;
  padding: 30px;
  width: 450px;
  border-radius: 20px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

::placeholder {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

.form button {
  align-self: flex-end;
}

.flex-column > label {
  color: #1e3c72;
  font-weight: 600;
}

.inputForm {
  border: 1.5px solid #ecedec;
  border-radius: 10px;
  height: 50px;
  display: flex;
  align-items: center;
  padding-left: 10px;
  transition: 0.2s ease-in-out;
}

.input {
  margin-left: 10px;
  border-radius: 10px;
  border: none;
  width: 100%;
  height: 100%;
}

.input:focus {
  outline: none;
}

.inputForm:focus-within {
  border: 1.5px solid #2d79f3;
}

.flex-row {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  justify-content: space-between;
}

.flex-row > div > label {
  font-size: 14px;
  color: #1e3c72;
  font-weight: 400;
}

.span {
  font-size: 14px;
  margin-left: 5px;
  color: #2d79f3;
  font-weight: 500;
  cursor: pointer;
}

.button-submit {
  margin: 20px 0 10px 0;
  background-color: #ffcc00;
  border: none;
  color: #1e3c72;
  font-size: 15px;
  font-weight: 500;
  border-radius: 10px;
  height: 50px;
  width: 100%;
  cursor: pointer;
}

.button-submit:hover {
  background-color: transparent;
  border: 2px solid #ffcc00;
  color: #1e3c72;
  transform: scale(1.05);
}

.p {
  text-align: center;
  color: #1e3c72;
  font-size: 14px;
  margin: 5px 0;
}

.btn {
  margin-top: 10px;
  width: 100%;
  height: 50px;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: 500;
  gap: 10px;
  border: 1px solid #ededef;
  background-color: white;
  cursor: pointer;
  transition: 0.2s ease-in-out;
}

.btn:hover {
  border: 1px solid #2d79f3;
  ;
}

    
footer {
  position: relative;
  z-index: 2;
  margin-top: 10px;
  padding: 20px 0;
  text-align: center;
  color: white;
  font-size: 14px;
  opacity: 0.8;
}

    h2{
      color:#1e3c72;
      text-align:center;
    }
  </style>
</head>
<body>
  <div class="hero-overlay"></div>
  <div class="hero-section">
    <h1>üìä TradeNest</h1>
    <div class="nav-links">
      <a href="/">Home</a>
      <a href="/prediction">Prediction</a>
      <a href="/learning">Learning</a>
      <a href="/contact">Contact</a>
    </div>
  </div>

  <div class="container">
    <form class="form" method="POST" action="{{ url_for('login', next=next) }}">
      <input type="hidden" name="next" value="{{ next }}">
      <h2>üîê Login</h2>
      <div class="flex-column">
        <label for="username">Username</label>
      </div>
      <div class="inputForm">
        <!-- Optional: Add a user icon here -->
        <input id="username" name="username" placeholder="Enter your Username" class="input" type="text" required>
      </div>
    
      <div class="flex-column">
        <label for="password">Password</label>
      </div>
      <div class="inputForm">
        <!-- Optional: Add a lock icon here -->
        <input id="password" name="password" placeholder="Enter your Password" class="input" type="password" required>
      </div>
    
      <div class="flex-row">
        <div>
          <input type="checkbox" id="remember" name="remember">
          <label for="remember">Remember me</label>
        </div>
        <a href="#" class="span">Forgot password?</a>
      </div>
    
      <button type="submit" class="button-submit">Sign In</button>
    
      <p class="p">Don't have an account? <a href="{{ url_for('signup') }}" class="span">Sign Up</a></p>
      <p class="p line">Or With</p>
    
      <div class="flex-row">

        <!-- Google Sign-In Button Container -->
        <div id="g_id_onload"
          data-client_id="636335894415-uerbtsbvgk5bnliefp1epam5ektpnr7t.apps.googleusercontent.com"
          data-context="signin"
          data-ux_mode="popup"
          data-callback="handleCredentialResponse"
          data-auto_prompt="false">
        </div>

        <button type="button" class="btn google" style="color:#1e3c72" onclick="google.accounts.id.prompt()">
          <!-- Google SVG Icon -->
          <svg xml:space="preserve" style="enable-background:new 0 0 512 512;" viewBox="0 0 512 512" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="Layer_1" width="20" version="1.1">
            <path d="M113.47,309.408L95.648,375.94l-65.139,1.378C11.042,341.211,0,299.9,0,256
              c0-42.451,10.324-82.483,28.624-117.732h0.014l57.992,10.632l25.404,57.644c-5.317,15.501-8.215,32.141-8.215,49.456
              C103.821,274.792,107.225,292.797,113.47,309.408z" style="fill:#FBBB00;"></path>
            <path d="M507.527,208.176C510.467,223.662,512,239.655,512,256c0,18.328-1.927,36.206-5.598,53.451
              c-12.462,58.683-45.025,109.925-90.134,146.187l-0.014-0.014l-73.044-3.727l-10.338-64.535
              c29.932-17.554,53.324-45.025,65.646-77.911h-136.89V208.176h138.887L507.527,208.176L507.527,208.176z" style="fill:#518EF8;"></path>
            <path d="M416.253,455.624l0.014,0.014C372.396,490.901,316.666,512,256,512
              c-97.491,0-182.252-54.491-225.491-134.681l82.961-67.91c21.619,57.698,77.278,98.771,142.53,98.771
              c28.047,0,54.323-7.582,76.87-20.818L416.253,455.624z" style="fill:#28B446;"></path>
            <path d="M419.404,58.936l-82.933,67.896c-23.335-14.586-50.919-23.012-80.471-23.012
              c-66.729,0-123.429,42.957-143.965,102.724l-83.397-68.276h-0.014C71.23,56.123,157.06,0,256,0
              C318.115,0,375.068,22.126,419.404,58.936z" style="fill:#F14336;"></path>
            
            </svg>
          Google
        </button>
        <button type="button" class="btn apple" style="color:#1e3c72">
          <!-- Apple SVG Icon -->
          <svg xml:space="preserve" style="enable-background:new 0 0 22.773 22.773;" viewBox="0 0 22.773 22.773" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="Capa_1" width="20" height="20" version="1.1"> <g> <g> <path d="M15.769,0c0.053,0,0.106,0,0.162,0c0.13,1.606-0.483,2.806-1.228,3.675c-0.731,0.863-1.732,1.7-3.351,1.573 c-0.108-1.583,0.506-2.694,1.25-3.561C13.292,0.879,14.557,0.16,15.769,0z"></path> <path d="M20.67,16.716c0,0.016,0,0.03,0,0.045c-0.455,1.378-1.104,2.559-1.896,3.655c-0.723,0.995-1.609,2.334-3.191,2.334 c-1.367,0-2.275-0.879-3.676-0.903c-1.482-0.024-2.297,0.735-3.652,0.926c-0.155,0-0.31,0-0.462,0 c-0.995-0.144-1.798-0.932-2.383-1.642c-1.725-2.098-3.058-4.808-3.306-8.276c0-0.34,0-0.679,0-1.019 c0.105-2.482,1.311-4.5,2.914-5.478c0.846-0.52,2.009-0.963,3.304-0.765c0.555,0.086,1.122,0.276,1.619,0.464 c0.471,0.181,1.06,0.502,1.618,0.485c0.378-0.011,0.754-0.208,1.135-0.347c1.116-0.403,2.21-0.865,3.652-0.648 c1.733,0.262,2.963,1.032,3.723,2.22c-1.466,0.933-2.625,2.339-2.427,4.74C17.818,14.688,19.086,15.964,20.67,16.716z"></path> </g></g></svg>
          Apple
        </button>
      </div>
    </form>
        

    <!-- üëá Add this line just below the form -->
 <!-- <p style="margin-top: 10px;">
    New here? <a href="{{ url_for('signup') }}" style="color: #ffcc00;">Create an account</a>
  </p>
  </div>-->

<footer>
    &copy; 2025 Stock Market Learning Portal. All Rights Reserved.
</footer>


<script src="https://accounts.google.com/gsi/client" async defer></script>
  <!-- JS Function to Handle Response -->
<script>
  function handleCredentialResponse(response) {
    const id_token = response.credential;

    // Send ID token to your Flask backend
    fetch("/google-login", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ token: id_token })
    })
    .then(res => res.json())
    .then(data => {
      if (data.status === "success") {
        alert("Welcome " + data.name);
        window.location.href = "/dashboard"; // Redirect after login
      } else {
        alert("Google login failed");
      }
    });
  }
</script>
</body>
</html>
